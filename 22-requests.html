<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    function PostInfo({ postId }) {
      const [postInfo, setPostInfo] = React.useState(null);
      const [error, setError] = React.useState(null);
      const [status, setStatus] = React.useState('idle');

      React.useEffect(() => {
        if (postId === null) {
          setStatus('idle');
          return;
        }

        setStatus('pending');
        fetchPost(postId)
          .then((postData) => {
            setStatus('resolved');
            setPostInfo(postData);
          })
          .catch((err) => {
            setStatus('rejected');
            setError(err);
          });
      }, [postId]);

      if (status === 'rejected') return 'Houve um erro!';

      if (status === 'idle') return 'Digite um ID';

      if (status === 'pending') return '...';

      return <pre>{JSON.stringify(postInfo, null, 2)}</pre>;
    }

    function App() {
      const [postId, setPostId] = React.useState(null);

      function handleSubmit(event) {
        event.preventDefault();
        console.log(event.target.elements.postId.value);
        setPostId(event.target.elements.postId.value);
      }

      return (
        <div>
          <form onSubmit={handleSubmit}>
            <label htmlFor="postId">Post ID</label>
            <div>
              <input type="number" id="postId" />
              <button type="submit">Submit</button>
            </div>
          </form>
          <hr />
          <PostInfo postId={postId} />
        </div>
      );
    }

    function fetchPost(id) {
      return fetch('https://jsonplaceholder.org/posts/' + id)
        .then((r) => r.json())
        .then((response) => response);
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
